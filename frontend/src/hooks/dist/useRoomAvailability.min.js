"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=require("react"),_api=_interopRequireDefault(require("../services/api"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,a)}return t}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(t,!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(t).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,r){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var t=[],a=!0,i=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(t.push(o.value),!r||t.length!==r);a=!0);}catch(e){i=!0,n=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw n}}return t}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var useRoomAvailability=function(){var e=_slicedToArray((0,_react.useState)({isAvailable:!0,availableRooms:0,message:"",loading:!1,error:null}),2),r=e[0],o=e[1];return{availability:r,checkAvailability:function(r,t,a){var i,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&t&&a){e.next=3;break}return o({isAvailable:!1,availableRooms:0,message:"Please select room and dates",loading:!1,error:null}),e.abrupt("return");case 3:return o(function(e){return _objectSpread({},e,{loading:!0,error:null})}),e.prev=4,e.next=7,regeneratorRuntime.awrap(_api.default.post("/bookings/check_availability/",{room:r,check_in:t,check_out:a}));case 7:return i=e.sent,o({isAvailable:i.data.is_available,availableRooms:i.data.available_rooms,message:i.data.message,loading:!1,error:null}),e.abrupt("return",i.data.is_available);case 12:return e.prev=12,e.t0=e.catch(4),n=e.t0.message||"Failed to check availability",o({isAvailable:!1,availableRooms:0,message:n,loading:!1,error:n}),e.abrupt("return",!1);case 17:case"end":return e.stop()}},null,null,[[4,12]])},resetAvailability:function(){o({isAvailable:!0,availableRooms:0,message:"",loading:!1,error:null})}}},_default=useRoomAvailability;exports.default=_default;
//# sourceMappingURL=useRoomAvailability.min.js.map
