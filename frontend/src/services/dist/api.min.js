"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _axios=_interopRequireDefault(require("axios"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var api=_axios.default.create({baseURL:"http://127.0.0.1:8000/api",headers:{"Content-Type":"application/json"}});api.interceptors.request.use(function(e){try{var t=localStorage.getItem("luxeAuth");if(t){var r=JSON.parse(t).token;r&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(r))}}catch(e){}return e}),api.interceptors.response.use(function(e){return e},function(e){if(e.response&&e.response.data)if(e.response.data.non_field_errors)e.message=e.response.data.non_field_errors[0];else if("object"===_typeof(e.response.data)){var t=Object.keys(e.response.data)[0];e.message=e.response.data[t][0]}else e.message=e.response.data;return Promise.reject(e)});var _default=api;exports.default=_default;
//# sourceMappingURL=api.min.js.map
